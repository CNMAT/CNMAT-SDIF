#ifndef SDIF_BOOLEANtypedef unsigned char Boolean;#undef TRUE#define TRUE 1#undef FALSE#define FALSE 0#define SDIF_BOOLEAN#endif#include <stdio.h>#include <stdarg.h>#include "sdif.h"#include "sdif-mem.h"#include "sdif-buf.h"#include "sdif-interp.h"#include "sdif-util.h"#include "sdif-unit.h"#include "sdif-unit-utils.h"//  prototype for entrypointUnitTestFn unit_basic;//  prototypes for local functionsstatic SDIFresult doTest(void);void *unit_basic(SDIFunitCmd cmd, ...){  void *result = NULL;    va_list va;  va_start(va, cmd);  switch(cmd)  {    case ESDIF_UNIT_CMD_NAME:      result = "basic test";      break;    case ESDIF_UNIT_CMD_RUN:      result = (void *)doTest();      break;  }    va_end(va);    return result;}//  test various SDIF helper functionsstatic SDIFresult doTest(void){  sdif_float32 list1[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};  sdif_float64 list2[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};  SDIFmem_Matrix m1, m2, m3, m4, m12, m22, m32, m42;    SDIFresult r;  //  test matrix creation  m1 = SDIFutil_CreateMatrix(2, 6, SDIF_FLOAT32, "----");  m2 = SDIFutil_CreateMatrix(2, 6, SDIF_FLOAT32, "----");  m3 = SDIFutil_CreateMatrix(2, 6, SDIF_FLOAT64, "----");  m4 = SDIFutil_CreateMatrix(2, 6, SDIF_FLOAT64, "----");    unit_assert((m1 && m2 && m3 && m4), "matrix creation failed\n");  //  test matrix loading (different data types)  SDIFutil_LoadMatrixFloat32(m1, list1);  SDIFutil_LoadMatrixFloat64(m2, list2);  SDIFutil_LoadMatrixFloat32(m3, list1);  SDIFutil_LoadMatrixFloat64(m4, list2);    unit_log(LOG_INFO, "\nm1:\n");  unit_PrintMatrix(LOG_INFO, m1);    unit_log(LOG_INFO, "\nm2:\n");  unit_PrintMatrix(LOG_INFO, m2);    unit_log(LOG_INFO, "\nm3:\n");  unit_PrintMatrix(LOG_INFO, m3);    unit_log(LOG_INFO, "\nm4:\n");  unit_PrintMatrix(LOG_INFO, m4);  unit_assert(SDIFutil_MatrixEqual(m1, m2), "equality test failed\n");  unit_assert(SDIFutil_MatrixEqual(m2, m3), "equality test failed\n");  unit_assert(SDIFutil_MatrixEqual(m3, m4), "equality test failed\n");    //  test matrix cloning  r = SDIFutil_CloneMatrix(m1, &m12);  r |= SDIFutil_CloneMatrix(m2, &m22);  r |= SDIFutil_CloneMatrix(m3, &m32);  r |= SDIFutil_CloneMatrix(m4, &m42);    unit_assert(SDIFutil_MatrixEqual(m1, m12), "equality test failed\n");  unit_assert(SDIFutil_MatrixEqual(m12, m22), "equality test failed\n");  unit_assert(SDIFutil_MatrixEqual(m22, m32), "equality test failed\n");  unit_assert(SDIFutil_MatrixEqual(m32, m42), "equality test failed\n");    return r;}